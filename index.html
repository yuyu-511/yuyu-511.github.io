---
layout: base
title: "ğŸ„ Christmas Advent Calendar"
main_class: "shell"
---

<!-- ===========================
       Screen 1: Lock Screen
=========================== -->
<section id="lock-screen" class="screen screen-lock christmas-lock">
  <div class="lock-inner">

    <!-- â˜… å¤§ããªæ—¥ä»˜è¡¨ç¤ºã¸å¤‰æ›´ â˜… -->
    <div class="big-date" id="big-date">
      <!-- JSã§ä»Šæ—¥ã®æ—¥ä»˜ã‚’å…¥ã‚Œã‚‹ -->
    </div>

    <!-- â˜… å¤§ããªã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ« â˜… -->
    <div class="big-title">
      1 Week Advent Calendar
    </div>

    <div class="lock-hint">
      Tap / Swipe up to begin ğŸ„
    </div>

    <div class="lock-arrow">âŒƒ</div>
  </div>
</section>


<!-- ===========================
       Screen 2: Home Screen
=========================== -->
<section id="home-screen" class="screen screen-home christmas-home">
  <div class="home-inner">

    <div class="home-header">
      <span class="home-title">ğŸ„ Advent Calendar</span>
    </div>

    <!-- ===== Icon Grid ===== -->
    <div class="icon-grid christmas-icons">

      <!-- Day 1 -->
      <div class="icon-card app-link" data-day="1" onclick="tryOpenDay(1)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day1.png" class="icon-image" alt="Day 1">
        </div>
        <div class="icon-title">Day 1</div>
        <div class="icon-sub">Dec 18</div>
      </div>

      <!-- Day 2 -->
      <div class="icon-card app-link" data-day="2" onclick="tryOpenDay(2)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day2.png" class="icon-image" alt="Day 2">
        </div>
        <div class="icon-title">Day 2</div>
        <div class="icon-sub">Dec 19</div>
      </div>

      <!-- Day 3 -->
      <div class="icon-card app-link" data-day="3" onclick="tryOpenDay(3)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day3.png" class="icon-image" alt="Day 3">
        </div>
        <div class="icon-title">Day 3</div>
        <div class="icon-sub">Dec 20</div>
      </div>

      <!-- Day 4 -->
      <div class="icon-card app-link" data-day="4" onclick="tryOpenDay(4)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day4.png" class="icon-image" alt="Day 4">
        </div>
        <div class="icon-title">Day 4</div>
        <div class="icon-sub">Dec 21</div>
      </div>

      <!-- Day 5 -->
      <div class="icon-card app-link" data-day="5" onclick="tryOpenDay(5)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day5.png" class="icon-image" alt="Day 5">
        </div>
        <div class="icon-title">Day 5</div>
        <div class="icon-sub">Dec 22</div>
      </div>

      <!-- Day 6 -->
      <div class="icon-card app-link" data-day="6" onclick="tryOpenDay(6)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day6.png" class="icon-image" alt="Day 6">
        </div>
        <div class="icon-title">Day 6</div>
        <div class="icon-sub">Dec 23</div>
      </div>

      <!-- Day 7 -->
      <div class="icon-card app-link" data-day="7" onclick="tryOpenDay(7)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day7.png" class="icon-image" alt="Day 7">
        </div>
        <div class="icon-title">Day 7</div>
        <div class="icon-sub">Dec 24</div>
      </div>

      <!-- Quest -->
      <div class="icon-card app-link" onclick="location.href='quest/index.html'">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/quest.png" class="icon-image" alt="Quest">
        </div>
        <div class="icon-title">Quest</div>
        <div class="icon-sub">Secret</div>
      </div>

    </div>

  </div>
</section>


<!-- ===========================
       Advent Calendar Progress
=========================== -->
<section id="calendar-progress" class="screen screen-progress">
  <div class="calendar-progress-section">

    <h2 class="calendar-title">ğŸ… Santa Journey to Christmas</h2>

    <div class="calendar-track">
      <!-- â˜… ã‚µãƒ³ã‚¿ï¼†ãƒˆãƒŠã‚«ã‚¤ã‚’ 1æšç”»åƒã«å¤‰æ›´ â˜… -->
      <img src="assets/img/santa_reindeer.png" class="santa-reindeer">
    </div>

    <div class="calendar-days">
      <span>18</span><span>19</span><span>20</span>
      <span>21</span><span>22</span><span>23</span>
      <span>24</span><span class="final-25">25</span>
    </div>

  </div>
</section>


<!-- ===========================
       Password Modal
=========================== -->
<div id="password-modal" class="password-modal hidden">
  <div class="password-modal-inner">

    <h2>Enter Passcode</h2>
    <p class="modal-instruction">ã“ã®æ—¥ã®ãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ã­ ğŸ</p>

    <input id="passcode-input" type="password" class="modal-input">

    <p id="passcode-error" class="modal-error"></p>

    <div class="modal-buttons">
      <button class="btn-cancel" onclick="closePasswordModal()">Cancel</button>
      <button class="btn-ok" onclick="submitPasscode()">Open</button>
    </div>
  </div>
</div>


<script>
/* ====== ãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰ ====== */
const PASSCODES = {
  1: "glimory",
  2: "cocette",
  3: "aromist",
  4: "pockety",
  5: "flaxmit",
  6: "alpette",
  7: "audaura"
};

/* ====== ãƒ­ãƒƒã‚¯åˆ‡æ›¿ã‚¹ã‚¤ãƒƒãƒ ======
   â˜… ã“ã“ã‚’ true ã«ã™ã‚‹ã¨ãƒ­ãƒƒã‚¯æ©Ÿèƒ½ ON
   â˜… false ã«ã™ã‚‹ã¨ã™ã¹ã¦ OFFï¼ˆè‡ªç”±ã«è¦‹ã‚‰ã‚Œã‚‹ï¼‰
*/
const LOCK_ENABLED = true;

/* ====== æ—¥ä»˜ãƒ­ãƒƒã‚¯ï¼ˆON/OFFå¯¾å¿œï¼‰ ====== */
const DAY_UNLOCK = {1:18, 2:19, 3:20, 4:21, 5:22, 6:23, 7:24};

function tryOpenDay(day) {

  if (!LOCK_ENABLED) {      
    openPasswordModal(day);
    return;
  }

  const now = new Date();
  const m = now.getMonth() + 1;
  const d = now.getDate();

  const unlockDay = DAY_UNLOCK[day];

  // ã¾ã è§£ç¦æ—¥ãŒè¨­å®šã•ã‚Œã¦ãªã„æ—¥ãŒæŠ¼ã•ã‚ŒãŸã¨ãã®ä¿é™º
  if (!unlockDay) {
    alert("ã“ã®æ—¥ã¯ã¾ã æº–å‚™ä¸­ã ã‚ˆ ğŸ");
    return;
  }

  if (m === 12 && d >= unlockDay) {
    // âœ… è§£ç¦æ—¥ä»¥é™ â†’ ãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰å…¥åŠ›ã¸
    openPasswordModal(day);
  } else {
    // âŒ ã¾ã è§£ç¦å‰ â†’ ã€Œã¾ã â—‹æœˆÃ—æ—¥ã˜ã‚ƒãªã„ã‚ˆã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    const todayStr = `${m}æœˆ${d}æ—¥`;
    const unlockStr = `12æœˆ${unlockDay}æ—¥`;

    alert(
      `ä»Šæ—¥ã¯ ${todayStr} ï¼ã¾ã  ${unlockStr} ã˜ã‚ƒãªã„ã‹ã‚‰é–‹ã‘ãªã„ã‚ˆã£ â„\n\n`
    );
  }
}

/* ====== ãƒ¢ãƒ¼ãƒ€ãƒ« ====== */
let currentDay = null;

function openPasswordModal(day) {
  currentDay = day;
  document.getElementById("password-modal").classList.remove("hidden");
}

function closePasswordModal() {
  document.getElementById("password-modal").classList.add("hidden");
}

/* ===== ãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰èªè¨¼ ===== */
function submitPasscode() {
  const input = document.getElementById("passcode-input").value.trim();
  const correct = PASSCODES[currentDay];

  if (input === correct) {
    const modal = document.querySelector(".password-modal-inner");
    modal.classList.add("unlock-animation");

    setTimeout(() => {
      window.location.href = `/gifts/day${currentDay}.html`;
    }, 650);

  } else {
    document.getElementById("passcode-error").textContent =
      "ãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰ãŒé•ã†ã‚ˆâ€¦ ğŸ…";
  }
}

/* ====== ãƒ­ãƒƒã‚¯ç”»é¢ã®æ—¥ä»˜è¡¨ç¤º & ã‚µãƒ³ã‚¿é€²è¡Œ ====== */
document.addEventListener("DOMContentLoaded", () => {
  const now = new Date();

  /* ===== ãƒ­ãƒƒã‚¯ç”»é¢ã®å¤§ããªæ—¥ä»˜ ===== */
  const bigDate = document.getElementById("big-date");
  if (bigDate) {
    bigDate.textContent =
      `${now.getFullYear()}/${now.getMonth() + 1}/${now.getDate()}`;
  }

  /* ===== ãƒ˜ãƒƒãƒ€ãƒ¼ã®æ—¥ä»˜ & ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ ===== */
  const statusDateEl = document.getElementById("status-date");
  const statusCountdownEl = document.getElementById("status-countdown");

  if (statusDateEl) {
    // ä¾‹: 2024/12/18 (Wed)
    const weekdayNames = ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];
    const w = weekdayNames[now.getDay()];
    statusDateEl.textContent =
      `${now.getFullYear()}/${now.getMonth() + 1}/${now.getDate()} (${w})`;
  }

  if (statusCountdownEl) {
    const msPerDay = 1000 * 60 * 60 * 24;
    const thisYear = now.getFullYear();
    const christmas = new Date(thisYear, 11, 25); // 11 = December

    let diffDays = Math.ceil((christmas - now) / msPerDay);

    // ã‚‚ã— 12/26 ä»¥é™ãªã‚‰ã€æ¬¡ã®å¹´ã®ã‚¯ãƒªã‚¹ãƒã‚¹ã¾ã§
    if (diffDays < 0) {
      const nextChristmas = new Date(thisYear + 1, 11, 25);
      diffDays = Math.ceil((nextChristmas - now) / msPerDay);
    }

    if (diffDays === 0) {
      statusCountdownEl.textContent = "ğŸ Today is Christmas!";
    } else {
      statusCountdownEl.textContent = `Christmasã¾ã§ã‚ã¨ ${diffDays}æ—¥ï¼æ¥½ã—ã¿ã ã­â¸œ(  á·‡à¿€ á·†  )â¸`;
    }
  }

  /* ===== ã‚µãƒ³ã‚¿ï¼†ãƒˆãƒŠã‚«ã‚¤ï¼ˆ1æšç”»åƒï¼‰ã®é€²è¡Œ ===== */
  const d = now.getDate();
  const min = 18;
  const max = 25;
  const progress = Math.min(Math.max(d, min), max);

  const santaBasePercent = ((progress - min) / (max - min)) * 100;

  // â˜… èª¿æ•´ãƒã‚¤ãƒ³ãƒˆ
  const SANTA_OFFSET_PERCENT = -5;  // å·¦å³ï¼ˆ%ï¼‰
  const SANTA_OFFSET_TOP = -70;      // ä¸Šä¸‹ï¼ˆpxï¼‰

  const santaReindeer = document.querySelector(".santa-reindeer");

  if (santaReindeer) {
    santaReindeer.style.width = "80px";
    santaReindeer.style.position = "absolute";

    santaReindeer.style.left = `${santaBasePercent + SANTA_OFFSET_PERCENT}%`;
    santaReindeer.style.top = `calc(50% + ${SANTA_OFFSET_TOP}px)`;
    santaReindeer.style.transform = "translateX(-50%)";
  }
});
</script>
