<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  
  

  <title>ğŸ„ Christmas Advent Calendar</title>
  <meta name="description" content="ã‚¯ãƒªã‚¹ãƒã‚¹ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼ˆDay 1ã€œDay 7ï¼‰ã€‚iPhoneé¢¨ãƒ‡ã‚¶ã‚¤ãƒ³ã®ç‰¹è¨­ãƒšãƒ¼ã‚¸ã€‚" />
  <meta property="og:title" content="ğŸ„ Christmas Advent Calendar" />
  <meta property="og:description" content="ã‚¯ãƒªã‚¹ãƒã‚¹ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼ˆDay 1ã€œDay 7ï¼‰ã€‚iPhoneé¢¨ãƒ‡ã‚¶ã‚¤ãƒ³ã®ç‰¹è¨­ãƒšãƒ¼ã‚¸ã€‚" />

  <link rel="stylesheet" href="/assets/css/style.css" />
</head>

<body class="lang-en theme-dark christmas-mode">

  <div class="status-bar christmas-bar">
  <div class="status-inner">
    <div class="status-left">
      <span class="status-logo">ğŸ„</span>
      <span class="status-title">1 Week Advent Calendar</span>
    </div>

    <div class="status-right">
      <span id="status-date" class="status-date"></span>
      <span id="status-countdown" class="status-countdown"></span>
    </div>
  </div>
</div>


  <main class="shell">
    <!-- ===========================
       Screen 1: Lock Screen
=========================== -->
<section id="lock-screen" class="screen screen-lock christmas-lock">
  <div class="lock-inner">

    <!-- â˜… å¤§ããªæ—¥ä»˜è¡¨ç¤ºã¸å¤‰æ›´ â˜… -->
    <div class="big-date" id="big-date">
      <!-- JSã§ä»Šæ—¥ã®æ—¥ä»˜ã‚’å…¥ã‚Œã‚‹ -->
    </div>

    <!-- â˜… å¤§ããªã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ« â˜… -->
    <div class="big-title">
      1 Week Advent Calendar
    </div>

    <div class="lock-hint">
      Tap / Swipe up to begin ğŸ„
    </div>

    <div class="lock-arrow">âŒƒ</div>
  </div>
</section>


<!-- ===========================
       Screen 2: Home Screen
=========================== -->
<section id="home-screen" class="screen screen-home christmas-home">
  <div class="home-inner">

    <div class="home-header">
      <span class="home-title">ğŸ„ Advent Calendar</span>
    </div>

    <!-- ===== Icon Grid ===== -->
    <div class="icon-grid christmas-icons">

      <!-- Day 1 -->
      <div class="icon-card app-link" data-day="1" onclick="tryOpenDay(1)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day1.png" class="icon-image" alt="Day 1">
        </div>
        <div class="icon-title">Day 1</div>
        <div class="icon-sub">Dec 18</div>
      </div>

      <!-- Day 2 -->
      <div class="icon-card app-link" data-day="2" onclick="tryOpenDay(2)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day2.png" class="icon-image" alt="Day 2">
        </div>
        <div class="icon-title">Day 2</div>
        <div class="icon-sub">Dec 19</div>
      </div>

      <!-- Day 3 -->
      <div class="icon-card app-link" data-day="3" onclick="tryOpenDay(3)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day3.png" class="icon-image" alt="Day 3">
        </div>
        <div class="icon-title">Day 3</div>
        <div class="icon-sub">Dec 20</div>
      </div>

      <!-- Day 4 -->
      <div class="icon-card app-link" data-day="4" onclick="tryOpenDay(4)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day4.png" class="icon-image" alt="Day 4">
        </div>
        <div class="icon-title">Day 4</div>
        <div class="icon-sub">Dec 21</div>
      </div>

      <!-- Day 5 -->
      <div class="icon-card app-link" data-day="5" onclick="tryOpenDay(5)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day5.png" class="icon-image" alt="Day 5">
        </div>
        <div class="icon-title">Day 5</div>
        <div class="icon-sub">Dec 22</div>
      </div>

      <!-- Day 6 -->
      <div class="icon-card app-link" data-day="6" onclick="tryOpenDay(6)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day6.png" class="icon-image" alt="Day 6">
        </div>
        <div class="icon-title">Day 6</div>
        <div class="icon-sub">Dec 23</div>
      </div>

      <!-- Day 7 -->
      <div class="icon-card app-link" data-day="7" onclick="tryOpenDay(7)">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/day7.png" class="icon-image" alt="Day 7">
        </div>
        <div class="icon-title">Day 7</div>
        <div class="icon-sub">Dec 24</div>
      </div>

      <!-- Quest -->
      <div class="icon-card app-link" onclick="location.href='quest/index.html'">
        <div class="icon-image-wrapper christmas-wrapper">
          <img src="assets/img/icons/quest.png" class="icon-image" alt="Quest">
        </div>
        <div class="icon-title">Quest</div>
        <div class="icon-sub">Secret</div>
      </div>

    </div>

  </div>
</section>


<!-- ===========================
       Advent Calendar Progress
=========================== -->
<section id="calendar-progress" class="screen screen-progress">
  <div class="calendar-progress-section">

    <h2 class="calendar-title">ğŸ… Santa Journey to Christmas</h2>

    <div class="calendar-track">
      <img src="assets/img/santa_reindeer.png" class="santa-reindeer">
    </div>

    <div class="calendar-days">
      <span class="day-mark" data-day="18">18</span>
      <span class="day-mark" data-day="19">19</span>
      <span class="day-mark" data-day="20">20</span>
      <span class="day-mark" data-day="21">21</span>
      <span class="day-mark" data-day="22">22</span>
      <span class="day-mark" data-day="23">23</span>
      <span class="day-mark" data-day="24">24</span>
      <span class="final-25">25</span>
    </div>

  </div>
</section>

<!-- â˜… ãƒ†ã‚­ã‚¹ãƒˆã ã‘ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒãƒƒãƒ— -->
<div id="day-preview-popup" class="day-preview-popup hidden">
  <p id="preview-text"></p>
</div>


<!-- ===========================
       Password Modal
=========================== -->
<div id="password-modal" class="password-modal hidden">
  <div class="password-modal-inner">

    <h2>Enter Passcode</h2>
    <p class="modal-instruction">ã“ã®æ—¥ã®ãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ã­ ğŸ</p>

    <input id="passcode-input" type="password" class="modal-input">

    <p id="passcode-error" class="modal-error"></p>

    <div class="modal-buttons">
      <button class="btn-cancel" onclick="closePasswordModal()">Cancel</button>
      <button class="btn-ok" onclick="submitPasscode()">Open</button>
    </div>
  </div>
</div>


<style>
/* ====== ãƒ†ã‚­ã‚¹ãƒˆå°‚ç”¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒãƒƒãƒ— ====== */
.day-preview-popup {
  position: fixed;
  background: rgba(255, 250, 240, 0.96);
  border-radius: 10px;
  padding: 10px 14px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.15);
  max-width: 180px;
  text-align: center;
  z-index: 9999;
  transform: translate(-50%, -120%);
  transition: opacity 0.15s ease;
  color: #333;
  font-size: 0.9rem;
  line-height: 1.3;
}

.day-preview-popup.hidden {
  opacity: 0;
  pointer-events: none;
}

.day-mark {
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
}

.day-mark:hover {
  background: rgba(255,255,255,0.3);
}
</style>


<script>
/* ====== ãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰ ====== */
const PASSCODES = {
  1: "glimory",
  2: "cocette",
  3: "aromist",
  4: "pockety",
  5: "flaxmit",
  6: "alpette",
  7: "audaura"
};

const LOCK_ENABLED = true;
const DAY_UNLOCK = {1:18, 2:19, 3:20, 4:21, 5:22, 6:23, 7:24};

function tryOpenDay(day) {
  if (!LOCK_ENABLED) {      
    openPasswordModal(day);
    return;
  }

  const now = new Date();
  const m = now.getMonth() + 1;
  const d = now.getDate();

  const unlockDay = DAY_UNLOCK[day];

  if (!unlockDay) {
    alert("ã“ã®æ—¥ã¯ã¾ã æº–å‚™ä¸­ã ã‚ˆ ğŸ");
    return;
  }

  if (m === 12 && d >= unlockDay) {
    openPasswordModal(day);
  } else {
    const todayStr = `${m}æœˆ${d}æ—¥`;
    const unlockStr = `12æœˆ${unlockDay}æ—¥`;

    alert(`ä»Šæ—¥ã¯ ${todayStr}ï¼ã¾ã  ${unlockStr} ã˜ã‚ƒãªã„ã‹ã‚‰é–‹ã‘ãªã„ã‚ˆã£ â„\n\n`);
  }
}

/* ====== ãƒ¢ãƒ¼ãƒ€ãƒ« ====== */
let currentDay = null;

function openPasswordModal(day) {
  currentDay = day;
  document.getElementById("password-modal").classList.remove("hidden");
}

function closePasswordModal() {
  document.getElementById("password-modal").classList.add("hidden");
}

function submitPasscode() {
  const input = document.getElementById("passcode-input").value.trim();
  const correct = PASSCODES[currentDay];

  if (input === correct) {
    const modal = document.querySelector(".password-modal-inner");
    modal.classList.add("unlock-animation");

    setTimeout(() => {
      window.location.href = `/gifts/day${currentDay}.html`;
    }, 650);

  } else {
    document.getElementById("passcode-error").textContent =
      "ãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰ãŒé•ã†ã‚ˆâ€¦ ğŸ…";
  }
}


/* ====== ãƒ­ãƒƒã‚¯ç”»é¢ æ—¥ä»˜è¡¨ç¤º & ã‚µãƒ³ã‚¿ ====== */
document.addEventListener("DOMContentLoaded", () => {
  const now = new Date();

  const bigDate = document.getElementById("big-date");
  if (bigDate) {
    bigDate.textContent = `${now.getFullYear()}/${now.getMonth() + 1}/${now.getDate()}`;
  }

  const d = now.getDate();
  const min = 18;
  const max = 25;
  const progress = Math.min(Math.max(d, min), max);

  const santaBasePercent = ((progress - min) / (max - min)) * 100;
  const SANTA_OFFSET_PERCENT = -5;
  const SANTA_OFFSET_TOP = -70;

  const santaReindeer = document.querySelector(".santa-reindeer");

  if (santaReindeer) {
    santaReindeer.style.width = "80px";
    santaReindeer.style.position = "absolute";

    santaReindeer.style.left = `${santaBasePercent + SANTA_OFFSET_PERCENT}%`;
    santaReindeer.style.top = `calc(50% + ${SANTA_OFFSET_TOP}px)`;
    santaReindeer.style.transform = "translateX(-50%)";
  }
});


/* ======================================
   ğŸ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆãƒ†ã‚­ã‚¹ãƒˆã®ã¿ï¼‰
====================================== */
const DAY_PREVIEWS = {
  18: "é›ªã ã‚‹ã¾ã¨ã„ã£ã—ã‚‡ã«ã€‚",
  19: "ã¡ã‚‡ã“ã£ã¨ã—ãŸã—ã‚ã‚ã›â™ª",
  20: "ã‚„ã•ã—ã„é¦™ã‚Šã§ã„ã‚„ã•ã‚Œã¦ã­ã€‚",
  21: "ã„ã‚ã‚“ãªè¼ªãŒã‚‚ã£ã¨åºƒãŒã‚Šã¾ã™ã‚ˆã†ã«ã€‚",
  22: "æŒ‡å…ˆã¾ã§ã€ã¡ã‚ƒã‚“ã¨ã‚ã£ãŸã‹ãã€‚",
  23: "é¢¨ãŒå¼·ã„æ—¥ã‚‚ã€ã‚‚ã£ã¨ã‚ã£ãŸã‹ãã€‚",
  24: "å¤§å¥½ããªã‚†ã‚Šã‚ã®ã€ã‹ã‚ã„ãã¦å®ˆã‚ŠãŸããªã‚‹ãŠé¡”ã«ã€‚"
};

const popup = document.getElementById("day-preview-popup");
const textEl = document.getElementById("preview-text");

document.querySelectorAll(".day-mark").forEach(span => {
  span.addEventListener("mouseenter", e => showPreview(e));
  span.addEventListener("mouseleave", hidePreview);

  span.addEventListener("touchstart", e => {
    e.preventDefault();
    showPreview(e);
  });

  document.addEventListener("touchend", hidePreview);
});

function showPreview(e) {
  const day = e.target.dataset.day;
  const text = DAY_PREVIEWS[day];
  if (!text) return;

  textEl.textContent = text;

  const rect = e.target.getBoundingClientRect();
  popup.style.left = `${rect.left + rect.width / 2}px`;
  popup.style.top  = `${rect.top - -180}px`;

  popup.classList.remove("hidden");
}

function hidePreview() {
  popup.classList.add("hidden");
}
</script>

    <button class="to-top" aria-label="Scroll to top">âŒƒ</button>
  </main>

  <script src="/assets/js/snow.js"></script>
  <script src="/assets/js/main.js"></script>
</body>
</html>
